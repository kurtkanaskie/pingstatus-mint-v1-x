<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<AssignMessage async="false" continueOnError="false" enabled="true" name="AM-set-standard-error-response">
    <DisplayName>AM-set-standard-error-response</DisplayName>
    <IgnoreUnresolvedVariables>true</IgnoreUnresolvedVariables>
    <Set>
        <Headers>
            <Header name="Content-Type">application/json</Header>
        </Headers>
        <Payload contentType="application/json">
{
    "code": "{flow.error.code}",
    "message": "{flow.error.description}",
    "info": "https://developer.company.com/errors#{flow.error.code}",
    "details": {
        "fault_name":"{fault.name}",
        "error_message":"{error.message}"
    },
    "mintVariables":{
        "mint.limitscheck.purchased_product_name":"{mint.limitscheck.purchased_product_name}",
        "mint.limitscheck.is_subscription_found":"{mint.limitscheck.is_subscription_found}",
        "mint.limitscheck.is_request_blocked":"{mint.limitscheck.is_request_blocked}",
        "mint.limitscheck.status_message":"{mint.limitscheck.status_message}",
        "mint.subscription_start_time_ms":"{mint.subscription_start_time_ms}",
        "mint.subscription_end_time_ms":"{mint.subscription_end_time_ms}",
        "mint.mintng_consumption_pricing_rates":"{mint.mintng_consumption_pricing_rates}",
        "mint.mintng_consumption_pricing_type":"{mint.mintng_consumption_pricing_type}",
        "mint.mintng_rate":"{mint.mintng_rate}",
        "mint.mintng_rate_plan_id":"{mint.mintng_rate_plan_id}",
        "mint.rateplan_start_time_ms":"{mint.rateplan_start_time_ms}",
        "mint.rateplan_end_time_ms":"{mint.rateplan_end_time_ms}",
        "mint.mintng_is_apiproduct_monetized":"{mint.mintng_is_apiproduct_monetized}"
    }
}
</Payload>
        <StatusCode>{flow.error.status}</StatusCode>
        <ReasonPhrase>{flow.error.reason}</ReasonPhrase>
    </Set>
</AssignMessage>